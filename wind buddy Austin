<!DOCTYPE html> <html> <head> <title>Austin Wind Buddy</title> <meta name=apple-mobile-web-app-capable content=yes> <link rel=icon href=data:;base64,iVBORw0KGgo=> <script> let running = false; async function checkWind(){ try{ const key = 'fa4d62b9208e1e2ce9378866e29c6c66'; const res = await fetch(`https://api.openweathermap.org/data/2.5/weather?q=Austin,us&appid=${key}&units=imperial`); const d = await res.json(); const mph = d.wind?.speed || 0; if(mph > 5 && Notification.permission === 'granted') new Notification('Wind Alert',{ body: `Gusting ${mph.toFixed(1)} mph - Benny's airborne!` }); } catch(e){console.error('Oops:',e)} setTimeout(checkWind, 300000); } function enableAlerts(){ if(running) return; Notification.requestPermission().then(p => { if(p === 'granted'){ checkWind(); running = true; document.getElementById('btn').textContent = ' Live'; } else alert('Turn notifications on manually'); }); } </script> <style> body{font-family:monospace;background:#111;color:#0f9;margin:0;padding:20px;text-align:center} button{background:#222;color:#0f9;border:1px solid #0f9;padding:10px;font-size:1em;cursor:pointer} button:active{background:#0f9;color:#111} </style> </head> <body> <h2>Wind Buddy</h2> <button id=btn onclick=enableAlerts()> Click to Watch Wind</button> <p>Checks Austin every five minutes. Needs a tap to start.</p> </body> </html>
